bf = ['[', '>', ']', '>', '[', '-', '>', ']', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '>', '+', '+', '+', '+', '+', '+', '+', '0', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '+', '+', '+', '+', '+', '+', '[', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '>', '[', '<', '+', '>', '-', ']', '+', '<', '-', ']', '0', '>', '>', '>', '>', '>', '>', '[', '-', '<', ']', '>', '>', '>', '>', '+', '+', '+', '+', '>', '+', '+', '+', '+', '>', '>', '>', '[', '<', '<', '+', '>', '>', '-', ']', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '>', '^', '-', ']', '0', '>', '>', '>', '>', '+', '>', '+', '+', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '[', '>', '^', '[', '>', '+', '<', '-', ']', '0', '>', '>', '-', '<', '-', ']', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '>', '^', '-', ']', 'v', '0', '>', '>', '[', '-', ']', '>', '+', '>', '+', '>', '+', '+', '[', '0', '+', '>', '>', '+', '>', '>', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '[', '0', '+', '>', '+', '>', '>', '-', ']', '0', '[', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '>', '>', '^', ']', '0', '>', '[', '>', '^', '[', '>', '+', '<', '-', ']', '0', '>', '>', '-', '<', '-', ']', '0', '>', '>', '>', '>', '>', '>', '[', '0', '>', '>', '^', '>', '+', '0', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '>', '>', '[', '-', ']', '>', '[', '-', ']', '>', '[', '-', ']', '0', '>', '>', '^', '[', '>', ']', '>', '>', '[', '>', ']', '<', '[', '0', '>', '>', '>', '>', '+', '>', '>', '>', '[', '>', ']', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '^', '[', '>', ']', '>', '>', '[', '>', ']', '<', '[', '0', '>', '>', '>', '+', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '^', '>', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', '>', '>', '^', '>', ']', '0', '>', '>', '>', '>', '>', '^', '>', '>', '[', '0', '>', '>', '>', '>', '>', '[', '>', '+', '0', '+', '>', '>', '>', '>', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '+', '>', '+', '0', '-', ']', '>', '>', '>', '[', '0', '+', '>', '+', '>', '>', '-', ']', '0', '>', '[', '>', '>', '+', '<', '<', '-', ']', '0', '[', '>', '>', '>', '>', '>', '^', '>', '>', '-', '0', '-', ']', '>', '>', '>', '>', '>', '>', '[', '<', '^', '>', '>', '-', '0', '>', '>', '>', '>', '>', '>', '-', ']', '<', '+', '^', '>', '>', ']', '0', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '[', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '>', '+', '0', '>', '-', ']', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', '<', ']', '<', '<', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '-', ']', '>', '[', '-', ']', '<', '<', '[', '-', ']', '<', '[', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '[', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '[', '0', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '+', '>', '+', '+', '0', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '0', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '-', ']', '0', '[', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '-', ']', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '-', ']', '>', '>', '>', '>', '-', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '0', '+', '>', '-', ']', '0', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '0', '>', '>', '>', '+', '<', '-', '>', '>', '-', ']', '0', '>', '>', '+', '<', '-', ']', '>', '[', '<', '+', '>', '-', ']', '>', '[', '-', ']', '<', '<', ']', 'v', '0', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '+', '+', '+', '+', '+', '+', '+', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '-', ']', '0', '>', '-', '[', '[', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '-', ']', '>', '>', '>', '>', '-', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '0', '+', '>', '-', ']', '0', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '0', '>', '>', '>', '+', '<', '-', '>', '>', '-', ']', '0', '>', '>', '+', '<', '-', ']', '>', '[', '<', '+', '>', '-', ']', '>', '[', '-', ']', '<', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '>', '[', '-', ']', '+', '<', '[', '>', '^', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '^', '-', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '^', '>', '>', '>', '>', '>', '>', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '^', '>', '>', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '-', '[', '>', '-', '<', '<', ']', '0', '>', '>', '+', '<', '[', '-', ']', '>', '[', '>', '>', '>', '>', '>', '>', '^', '+', '0', '>', '>', '-', ']', '>', '>', '>', '>', '>', '>', '+', '<', '-', ']', '+', '+', '+', '+', '+', '+', '+', '+', '>', '[', '-', ']', '+', '<', '[', '>', '^', '[', '0', '>', '>', '>', '>', '>', '>', '>', '[', '<', '<', '+', '<', '<', '+', '>', '>', '>', '>', '-', ']', '<', '<', '<', '<', '[', '>', '>', '>', '>', '+', '<', '<', '<', '<', '-', ']', '>', '+', '>', '-', '[', '<', '[', '<', '+', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '-', ']', '<', '[', '>', '>', '+', '<', '<', '-', ']', '0', ']', '0', '>', '>', '>', '>', '>', '>', '>', '-', '>', '+', '<', ']', '0', '>', '>', '>', '>', '>', '>', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '+', '0', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '+', '^', '>', '>', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '>', '>', '[', '>', ']', '>', '[', '-', ']', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '<', '<', '[', '<', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '[', '^', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '-', ']', '^', '>', '>', '[', '0', '+', '^', '>', '>', ']', '0', '^', '>', '>', '^', '>', '[', '0', '^', '>', '>', '+', '^', '>', ']', '0', '^', '>', '>', '[', '0', '>', '+', '<', '^', '>', '>', '-', ']', '0', '>', '[', '<', '-', '>', '-', ']', '>', '[', '>', ']', '>', '[', '>', ']', '<', '[', '>', '>', '+', '<', '<', '-', ']', '0', '[', '>', '>', '[', '>', ']', '>', '[', '>', ']', '>', '>', '[', '<', '+', '>', '-', ']', '0', '>', '>', '[', '>', ']', '<', '[', '>', '>', '[', '>', ']', '>', '>', '+', '0', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '[', '>', ']', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '-', ']', '>', '>', '>', '[', '[', '>', ']', '<', '[', '>', '>', '[', '>', ']', '>', '+', '<', '<', '[', '<', ']', '<', '-', ']', '>', '>', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '<', '[', '<', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', ']', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']']


ENDC = '\033[0m'
BOLD = '\033[1m'
UNDERLINE = '\033[4m'
HEADER = '\033[95m'

BLACK = '\033[90m'
RED = '\033[91m'
GREEN = '\033[92m'
YELLOW = '\033[93m'
BLUE = '\033[94m'
MAGENTA = '\033[95m'
CYAN = '\033[96m'

count = 1
stack = 0
line_num = 1
rainbow_brackets = [RED, YELLOW, GREEN, CYAN, BLUE, MAGENTA]
prev_ins = None
pushed = False

def tprint(string, end):
    print(f" {CYAN}{str(line_num).ljust(6)}{ENDC}" + f'{BLACK}│{ENDC} ' + stack * '\t' + string, end=end)

def rainbow_bracket():
    return rainbow_brackets[stack % len(rainbow_brackets)]

# if lbracket next line and inc tab
# if rbracket next line and dec tab

i = 0
while i < len(bf):
    if bf[i] == '[':
        if pushed: 
            print()
        pushed = False
        tprint(f'{rainbow_bracket()}{BOLD}[{ENDC}', end='\n')
        stack += 1
        line_num += 1
    elif bf[i] == ']':
        print()
        pushed = False
        stack -= 1
        tprint(f'{rainbow_bracket()}{BOLD}]{ENDC}', end='\n')
        line_num += 1
    else:
        if not pushed:
            tprint('', end='')
            line_num += 1

        if prev_ins != bf[i] and pushed:
            print(f" {bf[i]}", end='')
        else:
            print(bf[i], end='')
        pushed = True
        prev_ins = bf[i]

    
    i += 1
    
